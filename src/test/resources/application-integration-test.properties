# Oracle MCP Server - Integration Test Configuration
# Spring Boot 3.4.5 + Spring AI 1.0.1 + Oracle 19c

# Application Info
spring.application.name=mcp-oracledb-server-integration-test
server.port=0

# Oracle Database Configuration - Integration Test Environment
spring.datasource.url=jdbc:oracle:thin:@${ORACLE_HOST:localhost}:${ORACLE_PORT:1521}/${ORACLE_SERVICE:ORCL}
spring.datasource.username=${ORACLE_USERNAME:C##deepai}
spring.datasource.password=${ORACLE_PASSWORD:admin}
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver

# HikariCP Connection Pool (Integration Test optimized)
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=10000
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=600000
spring.datasource.hikari.leak-detection-threshold=30000

# Oracle-specific connection properties
spring.datasource.hikari.data-source-properties.oracle.net.CONNECT_TIMEOUT=30000
spring.datasource.hikari.data-source-properties.oracle.jdbc.ReadTimeout=30000
spring.datasource.hikari.data-source-properties.oracle.jdbc.J2EE13Compliant=true

# MCP Configuration (Integration Test)
mcp.tools.exposure=all
mcp.transport=stdio

# Oracle Feature Detection
oracle.features.detection.enabled=true
oracle.features.cache.ttl=300

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.endpoint.health.probes.enabled=true
management.health.db.enabled=true

# Logging Configuration
logging.level.com.deepai.mcpserver=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.springframework.test=INFO
logging.pattern.console=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

# Test specific properties
spring.test.database.replace=none
spring.jpa.show-sql=false
spring.jpa.hibernate.ddl-auto=none

# Disable unnecessary features for testing
spring.cloud.consul.enabled=false
spring.cloud.vault.enabled=false
